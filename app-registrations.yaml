---
- name: DTS SDS AKS version checker
  subjects:
    - 'repo:hmcts/aks-sds-deploy:ref:refs/heads/master'
    - 'repo:hmcts/aks-sds-deploy:pull_request'
  permissions: []
- name: DTS CFT AKS version checker
  subjects:
    - 'repo:hmcts/aks-cft-deploy:ref:refs/heads/main'
    - 'repo:hmcts/aks-cft-deploy:pull_request'
  permissions: []
- name: DTS AKS Auto-Shutdown
  subjects:
    - 'repo:hmcts/auto-shutdown:ref:refs/heads/master'
    - 'repo:hmcts/auto-shutdown:pull_request'
    - 'repo:hmcts/auto-shutdown-dev:ref:refs/heads/master'
    - 'repo:hmcts/auto-shutdown-dev:ref:refs/heads/development'
    - 'repo:hmcts/auto-shutdown-dev:pull_request'
  permissions:
    - role_definition_name: 'Contributor'
      scopes:
        - /providers/Microsoft.Management/managementGroups/CFT-NonProd
        - /providers/Microsoft.Management/managementGroups/CFT-Sandbox
        - /providers/Microsoft.Management/managementGroups/Heritage-NonProd
        - /providers/Microsoft.Management/managementGroups/Heritage-Sandbox
        - /providers/Microsoft.Management/managementGroups/Platform-NonProd
        - /providers/Microsoft.Management/managementGroups/Platform-Sandbox
        - /providers/Microsoft.Management/managementGroups/SDS-NonProd
        - /providers/Microsoft.Management/managementGroups/SDS-Sandbox
        - /providers/Microsoft.Management/managementGroups/Security
- name: darts-portal-v2
  subjects:
    - 'repo:hmcts/darts-portal:ref:refs/heads/master'
    - 'repo:hmcts/darts-portal:pull_request'
  permissions:
    - role_definition_name: 'Reader'
      scopes:
        - /providers/Microsoft.Management/managementGroups/CFT-NonProd
- name: Sandbox Cleanup
  subjects:
    - 'repo:hmcts/sandbox-auto-cleardown:ref:refs/heads/master'
    - 'repo:hmcts/sandbox-auto-cleardown:pull_request'
  permissions:
    - role_definition_name: Contributor
      scopes:
        - /subscriptions/b3394340-6c9f-44ca-aa3e-9ff38bd1f9ac
        - /subscriptions/64b1c6d6-1481-44ad-b620-d8fe26a2c768
        - /subscriptions/1497c3d7-ab6d-4bb7-8a10-b51d03189ee3
        - /subscriptions/2307d175-7e49-434b-9ac2-515529b845f2
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783
        - /subscriptions/a8140a9e-f1b0-481f-a4de-09e2ee23f7ab
        - /subscriptions/b72ab7b7-723f-4b18-b6f6-03b0f2c6a1bb
        - /subscriptions/ea3a8c1e-af9d-4108-bc86-a7e2d267f49c
        - /subscriptions/cdc31e8e-43f4-4c8a-8b50-635e954c27d3
        - /subscriptions/1fe7db01-9981-4ed3-983c-163dd50ba43a
- name: DTS AKS Application Testing
  subjects:
    - 'repo:hmcts/sds-flux-config:ref:refs/heads/master'
    - 'repo:hmcts/sds-flux-config:pull_request'
  permissions:
    - role_definition_name: Contributor
      scopes:
        - /subscriptions/64b1c6d6-1481-44ad-b620-d8fe26a2c768
        - /subscriptions/a8140a9e-f1b0-481f-a4de-09e2ee23f7ab
- name: DTS FinOps Enterprise Reporting
  subjects: # list of github repositories authorised to use this app registration
    - 'repo:hmcts/finops-reporting-incremental-export:ref:refs/heads/master'
    - 'repo:hmcts/finops-reporting-incremental-export:pull_request'
  permissions: # list of azure builtin-roles to assign to each of scopes defined within it.
    - role_definition_name: Contributor
      scopes:
        - /subscriptions/b72ab7b7-723f-4b18-b6f6-03b0f2c6a1bb
        - /subscriptions/b72ab7b7-723f-4b18-b6f6-03b0f2c6a1bb/resourceGroups/finops-reporting-sbox-rg
- name: DTS Orphaned Resource Cleanup
  subjects:
    - 'repo:hmcts/dtspo-orphan-resources-cleanup:ref:refs/heads/master'
  permissions:
    - role_definition_name: Orphan Resource Cleanup Read/Delete
      scopes:
        - /providers/Microsoft.Management/managementGroups/CFT-Sandbox
        - /providers/Microsoft.Management/managementGroups/CFT-NonProd
        - /providers/Microsoft.Management/managementGroups/Heritage-NonProd
        - /providers/Microsoft.Management/managementGroups/Heritage-Sandbox
        - /providers/Microsoft.Management/managementGroups/Platform-NonProd
        - /providers/Microsoft.Management/managementGroups/Platform-Sandbox
        - /providers/Microsoft.Management/managementGroups/SDS-NonProd
        - /providers/Microsoft.Management/managementGroups/SDS-Sandbox
        - /providers/Microsoft.Management/managementGroups/Security
- name: WAF Monitoring
  subjects:
    - 'repo:hmcts/azure-waf-monitoring:ref:refs/heads/master'
  permissions:
    - role_definition_name: Reader
      scopes:
        - /providers/Microsoft.Management/managementGroups/CFT-Sandbox
        - /providers/Microsoft.Management/managementGroups/CFT-NonProd
        - /providers/Microsoft.Management/managementGroups/CFT-Prod
        - /providers/Microsoft.Management/managementGroups/SDS-Sandbox
        - /providers/Microsoft.Management/managementGroups/SDS-NonProd
        - /providers/Microsoft.Management/managementGroups/SDS-Prod
        - /providers/Microsoft.Management/managementGroups/Heritage-Sandbox
        - /providers/Microsoft.Management/managementGroups/Heritage-NonProd
        - /providers/Microsoft.Management/managementGroups/Heritage-Prod
- name: DTS HMCTS way indexer
  subjects:
    - 'repo:hmcts/hmcts.github.io:ref:refs/heads/source'
    - 'repo:hmcts/hmcts.github.io:ref:refs/heads/master'
    - 'repo:hmcts/hmcts.github.io:pull_request'
    - 'repo:hmcts/hmcts.github.io:environment:github-pages'
  permissions: []
- name: DTS Recipe Receiver testing
  subjects:
    - 'repo:hmcts/recipe-receiver:ref:refs/heads/master'
    - 'repo:hmcts/recipe-receiver:pull_request'
  permissions:
    - role_definition_name: Reader
      scopes:
        - /providers/Microsoft.Management/managementGroups/CFT-Sandbox
        - /providers/Microsoft.Management/managementGroups/CFT-NonProd
        - /providers/Microsoft.Management/managementGroups/CFT-Prod
        - /providers/Microsoft.Management/managementGroups/SDS-Sandbox
        - /providers/Microsoft.Management/managementGroups/SDS-NonProd
        - /providers/Microsoft.Management/managementGroups/SDS-Prod
- name: DTS Auto DB Query
  subjects:
    - 'repo:hmcts/postgresql-cron-jobs:ref:refs/heads/master'
    - 'repo:hmcts/postgresql-cron-jobs:pull_request'
  permissions:
    - role_definition_name: 'Azure Kubernetes Service Cluster User Role'
      scopes:
        - /subscriptions/96c274ce-846d-4e48-89a7-d528432298a7 # DCD-CFTAPPS-STG
        - /subscriptions/8cbc6f36-7c56-4963-9d36-739db5d00b27 # DCD-CFTAPPS-PROD
        - /subscriptions/5ca62022-6aa2-4cee-aaa7-e7536c8d566c # DTS-SHAREDSERVICES-PROD

########################################################################################
## The below App Registrations have been created for use in GitHub Actions workflows
## Please check the readme in this folder before making any changes to these as there
## are known limitations
########################################################################################
- name: DTS Platform Operations GitHub Actions ACR Publisher 1
  subjects:
    - 'repo:hmcts/azure-cftapps-monitoring:ref:refs/heads/master'
    - 'repo:hmcts/azure-cftapps-monitoring:pull_request'
    - 'repo:hmcts/.github:ref:refs/heads/master'
    - 'repo:hmcts/.github:pull_request'
    - 'repo:hmcts/cnp-githubactions-library:ref:refs/heads/main'
    - 'repo:hmcts/cnp-githubactions-library:pull_request'
    - 'repo:hmcts/slack-help-bot:ref:refs/heads/main'
    - 'repo:hmcts/slack-help-bot:pull_request'
    - 'repo:hmcts/zap-glue:ref:refs/heads/master'
    - 'repo:hmcts/zap-glue:pull_request'
    - 'repo:hmcts/clamav-mirror:ref:refs/heads/master'
    - 'repo:hmcts/clamav-mirror:pull_request'
    - 'repo:hmcts/cnp-java-base:ref:refs/heads/master'
    - 'repo:hmcts/cnp-java-base:pull_request'
    - 'repo:hmcts/cnp-jenkins-docker:ref:refs/heads/master'
    - 'repo:hmcts/cnp-jenkins-docker:pull_request'
    - 'repo:hmcts/jenkins-webhook-relay:ref:refs/heads/master'
    - 'repo:hmcts/jenkins-webhook-relay:pull_request'
    - 'repo:hmcts/cnp-node-base:ref:refs/heads/master'
    - 'repo:hmcts/cnp-node-base:pull_request'
  permissions:
    - role_definition_name: 'AcrPush'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
    - role_definition_name: 'AcrPull'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
########################################################################################
## The below App Registrations have been created for use in GitHub Actions workflows
## Please check the readme in this folder before making any changes to these as there
## are known limitations
########################################################################################
- name: DTS Shared GitHub Actions ACR Publisher 1
  subjects:
    - 'repo:hmcts/mssql-backup-converter:ref:refs/heads/main'
    - 'repo:hmcts/mssql-backup-converter:pull_request'
    - 'repo:hmcts/libragob-batch-jobs:ref:refs/heads/main'
    - 'repo:hmcts/libragob-batch-jobs:pull_request'
    - 'repo:hmcts/tfplan-viewer:ref:refs/heads/main'
    - 'repo:hmcts/tfplan-viewer:pull_request'
    - 'repo:hmcts/azure-devops-agent:ref:refs/heads/main'
    - 'repo:hmcts/azure-devops-agent:pull_request'
    - 'repo:hmcts/backstage-portal:ref:refs/heads/master'
    - 'repo:hmcts/backstage-portal:pull_request'
    - 'repo:hmcts/terraform-utils:ref:refs/heads/master'
    - 'repo:hmcts/terraform-utils:pull_request'
    - 'repo:hmcts/github-self-hosted-runner:ref:refs/heads/main'
    - 'repo:hmcts/github-self-hosted-runner:pull_request'
    - 'repo:hmcts/cs-slack-help-bot:ref:refs/heads/main'
    - 'repo:hmcts/cs-slack-help-bot:pull_request'
    - 'repo:hmcts/expressjs-monorepo-template:ref:refs/heads/master'
    - 'repo:hmcts/expressjs-monorepo-template:pull_request'
  permissions:
    - role_definition_name: 'AcrPush'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
    - role_definition_name: 'AcrPull'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
########################################################################################
## The below App Registrations have been created for use in GitHub Actions workflows
## Please check the readme in this folder before making any changes to these as there
## are known limitations
########################################################################################
- name: DTS Developers GitHub Actions ACR Publisher 1
  subjects:
    - 'repo:hmcts/am-slack-help-bot:ref:refs/heads/main'
    - 'repo:hmcts/am-slack-help-bot:pull_request'
    - 'repo:hmcts/ccd-definition-processor:ref:refs/heads/master'
    - 'repo:hmcts/ccd-definition-processor:pull_request'
    - 'repo:hmcts/ccd-slack-help-bot:ref:refs/heads/master'
    - 'repo:hmcts/ccd-slack-help-bot:pull_request'
    - 'repo:hmcts/ccpay-slack-help-bot:ref:refs/heads/main'
    - 'repo:hmcts/ccpay-slack-help-bot:pull_request'
    - 'repo:hmcts/cot-slack-help-bot:ref:refs/heads/main'
    - 'repo:hmcts/cot-slack-help-bot:pull_request'
    - 'repo:hmcts/devextreme-poc-spa:ref:refs/heads/main'
    - 'repo:hmcts/devextreme-poc-spa:pull_request'
    - 'repo:hmcts/devextreme-poc-ssr:ref:refs/heads/main'
    - 'repo:hmcts/devextreme-poc-ssr:pull_request'
    - 'repo:hmcts/em-slack-help-bot:ref:refs/heads/master'
    - 'repo:hmcts/em-slack-help-bot:pull_request'
    - 'repo:hmcts/exui-slack-help-bot:ref:refs/heads/main'
    - 'repo:hmcts/exui-slack-help-bot:pull_request'
    - 'repo:hmcts/fact-slack-help-bot:ref:refs/heads/master'
    - 'repo:hmcts/fact-slack-help-bot:pull_request'
  permissions:
    - role_definition_name: 'AcrPush'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
    - role_definition_name: 'AcrPull'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
########################################################################################
## The below App Registrations have been created for use in GitHub Actions workflows
## Please check the readme in this folder before making any changes to these as there
## are known limitations
########################################################################################
- name: DTS Developers GitHub Actions ACR Publisher 2
  subjects:
    - 'repo:hmcts/idam-slack-help-bot:ref:refs/heads/master'
    - 'repo:hmcts/idam-slack-help-bot:pull_request'
    - 'repo:hmcts/incident-response-api:ref:refs/heads/master'
    - 'repo:hmcts/incident-response-api:pull_request'
    - 'repo:hmcts/incident-response-frontend:ref:refs/heads/master'
    - 'repo:hmcts/incident-response-frontend:pull_request'
    - 'repo:hmcts/justicetranscribe-frontend:ref:refs/heads/master'
    - 'repo:hmcts/justicetranscribe-frontend:pull_request'
    - 'repo:hmcts/justicetranscribe-web:ref:refs/heads/master'
    - 'repo:hmcts/justicetranscribe-web:pull_request'
    - 'repo:hmcts/POFCC-slack-help-bot:ref:refs/heads/master'
    - 'repo:hmcts/POFCC-slack-help-bot:pull_request'
    - 'repo:hmcts/rd-slack-help-bot:ref:refs/heads/master'
    - 'repo:hmcts/rd-slack-help-bot:pull_request'
    - 'repo:hmcts/rse-idam-simulator:ref:refs/heads/master'
    - 'repo:hmcts/rse-idam-simulator:pull_request'
    - 'repo:hmcts/telerik-poc-spa:ref:refs/heads/main'
    - 'repo:hmcts/telerik-poc-spa:pull_request'
    - 'repo:hmcts/telerik-poc-ssr:ref:refs/heads/main'
    - 'repo:hmcts/telerik-poc-ssr:pull_request'
  permissions:
    - role_definition_name: 'AcrPush'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
    - role_definition_name: 'AcrPull'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
########################################################################################
## The below App Registrations have been created for use in GitHub Actions workflows
## Please check the readme in this folder before making any changes to these as there
## are known limitations
########################################################################################
- name: DTS Developers GitHub Actions ACR Publisher 3
  subjects:
    - 'repo:hmcts/wa-slack-help-bot:ref:refs/heads/main'
    - 'repo:hmcts/wa-slack-help-bot:pull_request'
  permissions:
    - role_definition_name: 'AcrPush'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
    - role_definition_name: 'AcrPull'
      scopes:
        - /subscriptions/8999dec3-0104-4a27-94ee-6588559729d1/resourceGroups/rpe-acr-prod-rg # DCD-CNP-Prod
        - /subscriptions/bf308a5c-0624-4334-8ff8-8dca9fd43783/resourceGroups/cnp-acr-rg # DCD-CFT-Sandbox
